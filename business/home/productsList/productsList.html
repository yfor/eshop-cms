<header class="am-topbar am-topbar-inverse admin-header" ng-include="'framework/template/header.html'">
</header>

<div class="am-cf admin-main">
  <!-- sidebar start -->
	<div class="admin-sidebar am-offcanvas" id="admin-offcanvas" ng-include="'framework/template/sidebar.html'"></div>
  <!-- sidebar end -->

  <!-- content start -->
  <div class="admin-content" >
        <ul class="am-avg-sm-1 am-avg-md-4 am-margin am-padding am-text-center admin-content-list ">
        <li><a ui-sref="product" class="am-text-success"><span class="am-icon-btn am-icon-plus"></span><br/>新增产品<br/>2300</a></li>
		</ul>
  	<form class="am-form am-form-inline">
	  <fieldset>
	  <div class="am-form-group">
		<div class="am-form-group">
		<label >目录:</label>
		</div>
		<div class="am-form-group">
		<select ng-model="query.category" ng-options="x.id as x.name for x in productCategoriesType"></select>	
		</div>
		<div class="am-form-group">
		<label >分类:</label>
		</div>
		<div class="am-form-group">
		<select ng-model="query.property" ng-click="initDate()" ng-options="x.id as x.name for x in productPropertiesType"></select>	
		</div>
		

		
		<button  ng-click="getProductList()" class="am-btn am-btn-success">查询</button>
		
	</fieldset>
	</form>		
	<form class="am-form">

	  <fieldset>
		<legend>产品列表</legend>
		<div class="am-g">
        <div class="am-u-sm-12">
          <table class="am-table am-table-bd am-table-striped admin-content-table">
            <thead>
            <tr>
              <th>ID</th><th>图片</th><th>产品名称</th><th>产品描述</th><th>类型</th><th>库存</th><th>编辑</th><th>删除</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat = "product in productList track by $index">
			 <td>{{product.id}}</td>
			 <td>
			 <img  ng-repeat = "file in product.pictures[2] track by $index" class="am-radius" alt="140*140" ng-src="{{serviceIP+file.document.url}}" width="40" height="40" />
			 </td>
			 <td>{{product.name}}</td>
			 <td><a >{{product.description}}</a></td> 
			 <td><a >{{productCategories[product.category_id]}};
			 {{productProperties[product.property]}}</a></td>
			 <td><span class="am-badge am-badge-success">{{product.stock}}</span></td>
			 
             <td>
			  <a ui-sref="product({ productId: {{product.id}} })" class="am-text-success">编辑</a>
             </td>
			 <td>
				<a class="am-icon-close" ng-click = "delProduct(product.id)">
				删除
				</a>
             </td>
            </tr>		
            </tbody>
          </table>
        </div>
      </div>
	</fieldset>
	</form>
	
	 
  </div>
 <!-- content end -->

</div>

<a  class="am-icon-btn am-icon-th-list am-show-sm-only admin-menu" data-am-offcanvas="{target: '#admin-offcanvas'}"></a>

<footer  ng-include="'framework/template/footer.html'">
</footer>


